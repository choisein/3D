#  **분산 IP 기반 크리덴셜 스터핑 탐지 및 방어 시스템**
## 🎯 프로젝트 목표
본 프로젝트는 고도화되는 크리덴셜 스터핑 공격에 대응하기 위한 지능형 탐지 및 방어 시스템 구축을 목표로 합니다. 
점수 기반 인증(RBA)과 동적 허니팟(Honeypot)을 결합하여 탐지 효율성을 높이고, 사용자에게 직관적인 보안 대시보드를 제공하여 보안 경각심을 고취시키고자 합니다.

* **사용자 경각심 증가**: 사용자가 자신의 계정 보안 상태와 로그인 기록을 쉽게 확인하고 관리할 수 있는 대시보드를 제공합니다.

* **탐지 효율성 증가**: 사용자의 과거 로그인 기록과 현재 접속 정보를 비교·분석하는 리스크 기반 점수 모델을 통해 봇과 실제 사용자를 정밀하게 구분합니다.

새로운 방어 기법 제시: 기존 캡차(CAPTCHA)의 단점을 보완하는, 사용자 경험을 해치지 않는 동적 DOM 허니팟 기반의 2차 방어 메커니즘을 제안하고 시연합니다.

## 📊 시스템 아키텍처 및 흐름
* **1단계: 정상 사용자 프로파일링** 
  
     최초 기준점 설정: 사용자가 회원가입 후 최초로 로그인에 성공하면, 해당 시점의 IP 주소, User-Agent, Referer, Accept-Language 정보를 '최초 프로필'로 데이터베이스에 저장합니다. 이 프로필은 향후 모든 비정상 로그인 탐지의 기준점이 됩니다.

* **2단계: 공격 시뮬레이션**
  
     지능형 봇 제작: Selenium 또는 Requests 라이브러리를 이용해 공격 봇을 제작합니다.

     분산 IP 위장: 봇은 IP 주소를 지속적으로 변경하고, User-Agent 문자열을 바꿔가며 다수의 기기에서 접속하는 것처럼 위장하여 대량 로그인을 시도합니다.

* **3단계: 1차 방어 - 점수 기반 위험 분석**
  
     프로필 비교: 서버는 새로운 로그인 요청이 들어오면, 저장된 사용자의 '최초 프로필'과 현재 요청 정보를 비교 분석합니다.

     위험 점수 계산: 아래 보안 로직에 명시된 기준에 따라 '위험 점수(Risk Score)'를 실시간으로 계산합니다.

* **4단계: 점수별 차등 대응**
   - 30점이상: 봇일 가능성이 있다고 판단하여 2차 방어(동적 허니팟)가 적용된 특수 페이지로 유도합니다.

   - 70점이상: 봇일 가능성이 높다고 판단하여 MFA 인증을 시행합니다.

   - 80점이상: 거의 확실한 공격으로 간주하여 즉시 계정 접근을 일시적으로 잠금 처리합니다.

* **5단계: 2차 방어 및 최종 판정**
     동적 허니팟 유도: 의심 사용자(30~69점)는 겉보기에는 동일하지만, 코드 상에 보이지 않는 함정(Honeypot)이 숨겨진 페이지로 리디렉션됩니다.

     봇 확정 및 차단: 페이지의 JavaScript는 이 숨겨진 요소의 속성 값을 짧은 주기로 변경합니다. 코드를 분석하는 봇이 이 변화에 반응하는 순간, 100% 봇으로 확정하고 해당 IP와 세션을 즉시 차단합니다.

## ✨ 주요 기능

## 👨‍💻 사용자 대시보드 (User Dashboard)
공격받은 사용자가 로그인하면 자신의 계정 상태를 한눈에 파악하고 관리할 수 있습니다.

* **보안 알림**: 비정상 로그인 시도 발생 시 대시보드에 즉각적인 알림 표시

* **계정 상태 확인**: 현재 계정의 잠금 여부 및 보안 등급 확인

* **상세 로그인 기록**: 로그인 성공/실패 기록을 일시, 기기, IP, 위치 정보와 함께 제공

* **보안 강화 기능**: 2단계 인증(2FA) 활성화 및 비밀번호 변경 주기 설정 기능

## ⚙️ 관리자 페이지 (Admin Dashboard)
시스템 전체의 보안 현황을 모니터링하고 위협에 대응합니다.

* **핵심 지표**: 총 로그인 시도, 탐지된 비정상 로그인, 캡차(허니팟) 시행 횟수

* **실시간 로그**: 모든 로그인 시도의 상세 기록(일시, 기기, IP, 위치, Referer, Accept-Language, 총 점수) 제공

    ->로그 클릭 시 점수 산정 상세 내역 확인 및 해당 IP 즉시 차단 기능

* **차단 IP 목록**: 시스템에 의해 차단된 IP 주소 목록 관리

* **위험 요인 분석**: 주요 위험 요인(예: 해외 IP, 의심 User-Agent)의 비율을 원 그래프로 시각화

## 🔐 보안 로직 상세
탐지 방법: 리스크 기반 스코어링 (Risk-Based Scoring)
평가 항목	조건	점수

* **가. IP 주소** ( 45% )
  
     -동일 IP	0
  
     -동일 국가, 동일 ASN (다른 IP), 다른 도시	+10

     -다른 국가 +35

     -추가 가중: VPN/Proxy/Tor/Hosting Provider	+20
  

* **나. User-Agent** ( 40% )
  
     -동일 브라우저, 동일 OS , 동일 버전	 0
  
     -동일 브라우저, 동일 OS, 다른 버전 +10

     -브라우저 또는 OS 변경 +10

     -브라우저, OS 모두 변경 +20
  

* **다. Referer	Referer** ( 10% )
  
     -없음 (직접 접속) 또는 정상 경로	0
  
     -외부/의심 링크 (스팸, 자동화 유입 의심)	+10
  
  
* **라. Accept-Language** ( 5% )
  
     -동일 언어	0
  
     -다른 언어 (예: ko-KR → en-US)	+5

## 🛡️방어 기법: 동적 DOM 허니팟 (Dynamic DOM Honeypot)
* 함정 설치: 사람은 인지할 수 없는 아주 작은 DOM 요소를 display: none; 또는 유사 속성으로 페이지에 숨겨 둡니다.

* 동적 변경: JavaScript를 이용해 해당 요소의 특정 속성(예: data-timestamp) 값을 짧은 간격(예: 100ms)으로 계속 변경합니다.

* 봇 상호작용 감지: 사람은 이 요소를 인지할 수 없지만, 웹페이지의 모든 코드를 읽고 분석하는 봇은 이 미세한 변화를 감지하고 상호작용(속성 값 조회 등)을 시도할 가능성이 높습니다.

* 최종 판정: 이 상호작용이 감지되는 즉시 해당 세션을 봇으로 확정하고 로그인을 차단합니다.
